<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Python Advanced 2</title>
</head>
<body>
<div id="wmd-preview" class="wmd-preview"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="0a5a" id="python-advanced-2">Python Advanced 2</h1><p data-anchor-id="yj0j"><code>programming_language</code></p><hr><p data-anchor-id="zfjw">Selected from <em>Introduciton to Python</em>, authored by Bill Lubanovic <br>
This is the best Python Tutorial that I have ever read.</p><div class="md-section-divider"></div><h2 data-anchor-id="xvcv" id="chapter-2">Chapter 2</h2><p data-anchor-id="78dq">Python is strongly typed. <br>
Variables are just names. <br>
Assignment just attaches a name to the object.</p><div class="md-section-divider"></div><h3 data-anchor-id="293g" id="data-types">Data Types</h3><p data-anchor-id="xsoa"><code>/</code> carries out floating-point (decimal) division. <br>
<code>//</code> for integer division.</p><p data-anchor-id="ian9">An "int" can be any size.  <br>
Python handles humungous integers with no problem.</p><p data-anchor-id="16lm">Convert a string containing characters that would be a valid float.  <br>
<code>float('99')</code> would be 99.0</p><div class="md-section-divider"></div><h3 data-anchor-id="ug9x" id="python-strings">Python Strings</h3><p data-anchor-id="8dgv">Strings in Python are immutable. <br>
Duplicate a string with <code>*</code>, such as <code>'str'*3</code> <br>
Slice with [start: end: step]. <br>
Reverse with <code>'string'[::-1]</code> = 'gnirts' <br>
Combine with join(), the opposite of split().</p><p data-anchor-id="gygl"><code>'string'.startswith('sub')</code> <br>
and  <br>
<code>'string'.endswith('sub')</code> <br>
return boolean.</p><p data-anchor-id="65x7">Find the offset of the first occurrence of the word. <br>
<code>'string'.find('i')</code> <br>
Find the last <br>
<code>'string'.rfind('i')</code> <br>
Count <br>
<code>'string'.count('i')</code></p><p data-anchor-id="hs37">Removing sth from both sides <br>
<code>strip('sth')</code></p><p data-anchor-id="nfdu">Deal with word cases: <br>
capitalize() <br>
title() <br>
upper() <br>
lower() <br>
swapcase()</p><p data-anchor-id="qfhg">Deal with alignment within the specific number(like 30) of spaces: <br>
center(30) <br>
ljust(30) <br>
rjust(30)</p><div class="md-section-divider"></div><h2 data-anchor-id="vdnp" id="chapter-3">Chapter 3</h2><div class="md-section-divider"></div><h3 data-anchor-id="tchv" id="python-lists">Python Lists</h3><p data-anchor-id="01g9">Combine lists with <code>extend()</code> or <code>+=</code> <br>
Add an item by offset with <code>insert(offset, item)</code> <br>
Delete an item with <code>del</code>. <br>
<code>del mylist[2]</code> <br>
<code>del</code> is a Python statement: it <strong>detaches</strong> a name from a Python object and <strong>free up</strong> the object's memory if that name is the <strong>last</strong> <strong>reference</strong> to it. <br>
Delete an item by value with <code>remove(value)</code></p><p data-anchor-id="ogzl"><code>pop(offset)</code> Get an item by offset and delete it at the same time. <br>
<code>pop()</code> pops the last item.</p><p data-anchor-id="br3z">Find the offset of an item by value with <code>index()</code> <br>
<code>mylist.index(item)</code></p><p data-anchor-id="r4ss">Sorting in default ascending order. <br>
<code>mylist.sort()</code> sorts the list itself. <br>
general function <code>sorted()</code> sorts the copy.</p><p data-anchor-id="kidz">Assign with =, Copy with copy() <br>
Three ways to copy:</p><pre data-anchor-id="gabh"><code>The list `copy()` function
The `list()` construction function
The list slicing `[:]`
</code></pre><div class="md-section-divider"></div><h3 data-anchor-id="7jrv" id="python-tuples">Python Tuples</h3><p data-anchor-id="rezj">Tuples let you assign multiple variables at once. (tuple unpacking) <br>
Exchange variables in one statement. <code>a, b = b, a</code> <br>
Goodness of Tuples versus Lists: <br>
1. Tuples use less space.  <br>
2. cannot clobber tuple items by mistake. <br>
3. can use tuples as dictionary keys <br>
4. Named Tuples can be a simple alternative to objects. <br>
5. Function arguments are passed as tuples.</p><div class="md-section-divider"></div><h3 data-anchor-id="2ybr" id="python-dictionaries">Python Dictionaries</h3><p data-anchor-id="gjf2">use <code>dict()</code> to convert two-value sequence into a dictionary. <br>
<code>dict([['a',1], ['b',2]])</code> to make {'a':1, 'b':2}</p><p data-anchor-id="jj6q">Combine dictionaries with <code>update()</code>. The value from the second dictionary wins when deplication.</p><p data-anchor-id="eucq">Delete an item by key with <code>del</code>. <br>
Delete all item using <code>clear()</code>.</p><p data-anchor-id="1rjg">Test a key using <code>in</code> <br>
<code>key1 in mydict</code> returns boolean.</p><p data-anchor-id="p0km">Non-thrown item access using <code>get(key, optional_value)</code> <br>
If the key does not exist, the optional value will be returned. If no optional value provided, return None.</p><p data-anchor-id="8gnh">Get all keys using <code>keys()</code> <br>
Get all values using <code>values()</code> <br>
Get all key-value pairs using <code>items()</code></p><div class="md-section-divider"></div><h3 data-anchor-id="rtyh" id="python-sets">Python Sets</h3><p data-anchor-id="j2ag">Set Operations:</p><ul data-anchor-id="ajm4">
<li>intersection() or <code>&amp;</code></li>
<li>union() or <code>|</code></li>
<li>difference() or <code>-</code></li>
<li>symmetric_difference() or <code>^</code></li>
</ul><p data-anchor-id="44iz">Set Simbols: <br>
&lt; proper subset, returns boolean <br>
&gt; proper superset <br>
&gt;= or issuperset()</p><p data-anchor-id="tfcw">Python lets you do this. <br>
<code>10 &lt; x &lt; 15</code></p><div class="md-section-divider"></div><h2 data-anchor-id="jnph" id="chapter-4">Chapter 4</h2><p data-anchor-id="jh91">Python considers all these <code>false</code>: <br>
False, None, 0, 0.0, '', [], (), {}, set()</p><p data-anchor-id="3o9h">Check break use with else after a while</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="mxx4" style=""><ol class="linenums"><li class="L0"><code><span class="kwd">while</span><span class="pln"> cond_satisfied</span><span class="pun">:</span></code></li><li class="L1"><code><span class="pln">    do_sth</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> cond_hit</span><span class="pun">:</span></code></li><li class="L3"><code><span class="pln">        </span><span class="kwd">break</span><span class="pln">  </span><span class="com"># jump out of the loop in condiction</span></code></li><li class="L4"><code><span class="kwd">else</span><span class="pun">:</span></code></li><li class="L5"><code><span class="pln">    </span><span class="kwd">print</span><span class="pun">(</span><span class="str">'No break'</span><span class="pun">)</span><span class="pln"> </span><span class="com"># execute if break not called</span></code></li></ol></pre><p data-anchor-id="tyen">This is the same with "for" loop.</p><p data-anchor-id="h4ty">Iterating multiple sequences in parallel with <code>zip()</code>. <br>
<code>zip()</code> stops when the shortest sequence is done. <br>
It returns an iterable object.</p><p data-anchor-id="envd">Generate number sequences with <code>range(start, stop, step)</code></p><div class="md-section-divider"></div><h3 data-anchor-id="s8qt" id="comprehension">Comprehension</h3><p data-anchor-id="xjs5">A comprehension is a compact way of creating a Python data structure from one or more iterators.</p><ul data-anchor-id="a92r">
<li>list comprehension: <br>
[expression for item in iterable if condition]</li>
<li>dictionary comprehension: <br>
{key_expression: value_expression for expression in iterable}</li>
<li>set comprehension: <br>
{expression for expression in iterable}</li>
</ul><p data-anchor-id="26gb">Tuples do not have comprehensions! <br>
(expression for expression in iterable) <br>
returns a <em>generator comprehension</em>. <br>
You cannot restart or back up a generator.</p><div class="md-section-divider"></div><h3 data-anchor-id="ryx6" id="python-none">Python None</h3><p data-anchor-id="pwqs">None is a Python value that holds a place when nothing to say. <br>
To detect a None, use <code>if thing is None</code>.</p><div class="md-section-divider"></div><h3 data-anchor-id="4gp4" id="python-functions">Python functions</h3><p data-anchor-id="tmyb">specify arguments by the names of their corresponding parameters. <br>
Default values are calculated when the function is defined. </p><p data-anchor-id="xvv8">Gather positional argument with <code>*</code> <br>
An asterisk groups a variable number of positional arguments into a tuple of parameter values.</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="ghnw" style=""><ol class="linenums"><li class="L0"><code><span class="kwd">def</span><span class="pln"> f</span><span class="pun">(*</span><span class="pln">args</span><span class="pun">):</span></code></li><li class="L1"><code><span class="pln">    </span><span class="kwd">pass</span></code></li><li class="L2"><code><span class="pln">f</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,</span><span class="lit">3</span><span class="pun">,</span><span class="lit">4</span><span class="pun">)</span><span class="pln"> </span><span class="com"># args is (1,2,3,4)</span></code></li></ol></pre><p data-anchor-id="j8eh">Gather keyword arguments with <code>**</code> <br>
group keyword arguments into a dictionary.</p><div class="md-section-divider"></div><h3 data-anchor-id="rp1e" id="docstring">Docstring</h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="v12q" style=""><ol class="linenums"><li class="L0"><code><span class="kwd">def</span><span class="pln"> f</span><span class="pun">():</span></code></li><li class="L1"><code><span class="pln">    </span><span class="str">'this is the docstring of this function'</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">pass</span></code></li><li class="L3"><code><span class="com"># to get the docstring</span></code></li><li class="L4"><code><span class="pln">help</span><span class="pun">(</span><span class="pln">f</span><span class="pun">)</span></code></li><li class="L5"><code><span class="kwd">print</span><span class="pun">(</span><span class="pln">f</span><span class="pun">.</span><span class="pln">__doc__</span><span class="pun">)</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="lzfj" id="more">More</h3><p data-anchor-id="2h27">Python Functions are the <strong>first class citizen</strong>.</p><ul data-anchor-id="69r6">
<li>Inner function</li>
<li>Closures: a dynamically created function</li>
<li>Lambda function</li>
<li>Generators</li>
<li>Decorators: To modify an existing function without changing its source codes, a decorator is a function that takes one function as input and returns another function.</li>
</ul><p data-anchor-id="bn4t"><code>function.__name__</code>returns the function name.</p><p data-anchor-id="ifbt">The main program is assigned the special name <code>__main__</code>. <br>
So the codes below are commonly-seen.</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="rdk9" style=""><ol class="linenums"><li class="L0"><code><span class="kwd">if</span><span class="pln"> __name__ </span><span class="pun">==</span><span class="pln"> </span><span class="str">"__main__"</span><span class="pun">:</span></code></li><li class="L1"><code><span class="pln">    main</span><span class="pun">()</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="6f31" id="namespace">Namespace</h3><p data-anchor-id="r4m6">A global value can be accessed inside a function but cannot be changed. <br>
To change it, keyword "<strong>global</strong>" is needed.</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="6943" style=""><ol class="linenums"><li class="L0"><code><span class="pln">x </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span></code></li><li class="L1"><code><span class="kwd">def</span><span class="pln"> f</span><span class="pun">():</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">global</span><span class="pln"> x</span></code></li><li class="L3"><code><span class="pln">    x </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="com"># x can be changed</span></code></li></ol></pre><p data-anchor-id="7zwt"><code>locals()</code>/<code>globals()</code> returns a dictionary of the contents of the local/global namespace.</p><div class="md-section-divider"></div><h3 data-anchor-id="d0v9" id="exception">exception</h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="sepp" style=""><ol class="linenums"><li class="L0"><code><span class="kwd">try</span><span class="pun">:</span></code></li><li class="L1"><code><span class="pln">    sth</span><span class="pun">.</span></code></li><li class="L2"><code><span class="kwd">except</span><span class="pln"> </span><span class="typ">IndexError</span><span class="pln"> </span><span class="kwd">as</span><span class="pln"> er</span><span class="pun">:</span></code></li><li class="L3"><code><span class="pln">    do_sth</span></code></li><li class="L4"><code><span class="kwd">except</span><span class="pln"> </span><span class="typ">Exception</span><span class="pln"> </span><span class="kwd">as</span><span class="pln"> others</span><span class="pun">:</span></code></li><li class="L5"><code><span class="pln">    do_sth_else</span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="ni46" id="chapter-5">chapter 5</h2><p data-anchor-id="by8p">A module is a Python file.</p><p data-anchor-id="zf04"><code>from module import</code> function_name or class_name</p><p data-anchor-id="2hpr"><code>import module</code> <br>
<code>module.function()</code></p><p data-anchor-id="9b6c">A package is a file hierachy of organized files. <br>
In the source directory of a package, a file named <code>__init__.py</code> is needed to denote the whole directory as a Python package.</p><div class="md-section-divider"></div><h3 data-anchor-id="8ncc" id="python-standard-library-stl">Python Standard Library (STL)</h3><ul data-anchor-id="lajl">
<li><p>Handling missing keys <br>
<code>dictionary.setdefault(key, value)</code> <br>
set if not get.</p></li>
<li><p>Default keys <br>
<code>from collections import defaultdict</code> <br>
<code>defaultdict()</code> takes a function as argument. It specifies the default value of any new key. <br>
such as <code>defaultdict(list())</code></p></li>
<li><p>Counting items <br>
<code>from collections import Counter</code> <br>
<code>Counter</code> takes a list as input <br>
Methods: <br>
<code>most_common(30)</code> <br>
combine two counters using <code>+</code></p></li>
<li><p>OrderDict()</p></li>
<li>deque: popleft() and pop()</li>
<li><p>Iterating over data structures <br>
<code>import itertools</code> <br>
<code>itertools.chain([1,2], [3,4])</code> iterate as a whole <br>
<code>cycle([1,2,3])</code> infinite <br>
<code>accumulate()</code> iterate with cumulative results <br>
<code>accumulate([1,2,3], multiply)</code> do multplication now. (Simply like C++ template)</p></li>
<li><p>Nicely print with pprint()</p></li>
</ul><div class="md-section-divider"></div><h2 data-anchor-id="40y5" id="chapter-6">chapter 6</h2><div class="md-section-divider"></div><h3 data-anchor-id="21l3" id="topics-that-already-learnt">Topics that already learnt:</h3><ul data-anchor-id="rjrn">
<li>what are objects?</li>
<li>define a class</li>
<li>inheritance</li>
<li>override a method </li>
<li>add a method </li>
</ul><div class="md-section-divider"></div><h3 data-anchor-id="aemd" id="get-help-from-parent-with-super">Get help from parent with <code>super</code></h3><p data-anchor-id="pv2w">Once the <code>__init__</code> function is defined in the sub-class, it overrides the initialization function in the parent class which will not be called automatically anymore. <br>
So the sub-class should call its parant with <code>super.__init__(param)</code></p><div class="md-section-divider"></div><h3 data-anchor-id="vn0p" id="the-use-of-self">The use of self</h3><p data-anchor-id="ci41">The first argument of class method must be <code>self</code></p><div class="md-section-divider"></div><h3 data-anchor-id="40u2" id="property">Property</h3><p data-anchor-id="4fgh">Python attributes and methods are all <strong>public</strong>. <br>
You need to make it private in a Pythonic way.</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="4hyc" style=""><ol class="linenums"><li class="L0"><code><span class="kwd">class</span><span class="pln"> </span><span class="typ">HideYourName</span><span class="pun">():</span></code></li><li class="L1"><code><span class="pln">    </span><span class="kwd">def</span><span class="pln"> __init__</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">):</span></code></li><li class="L2"><code><span class="pln">        </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">hidden_name </span><span class="pun">=</span><span class="pln"> name </span></code></li><li class="L3"><code><span class="pln">    </span><span class="kwd">def</span><span class="pln"> getter</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">):</span></code></li><li class="L4"><code><span class="pln">        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">hidden_name</span></code></li><li class="L5"><code><span class="pln">    </span><span class="kwd">def</span><span class="pln"> setter</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> new_name</span><span class="pun">):</span></code></li><li class="L6"><code><span class="pln">        </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">hidden_name </span><span class="pun">=</span><span class="pln"> new_name</span></code></li><li class="L7"><code><span class="pln">    </span><span class="com"># define two methods as properties of attribute "name"</span></code></li><li class="L8"><code><span class="pln">    name </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">property</span><span class="pun">(</span><span class="pln">getter</span><span class="pun">,</span><span class="pln"> setter</span><span class="pun">)</span></code></li></ol></pre><p data-anchor-id="zvwh">In this case, users call with <code>HideYourName('Bob').name</code> as a normal attribute. (But the get/set details are re-defined and the true value 'hidden_name' is hidden but still can be called)</p><p data-anchor-id="vs5u">Another way to define properties is to use <em>decorators</em></p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="5k7h" style=""><ol class="linenums"><li class="L0"><code><span class="lit">@property</span></code></li><li class="L1"><code><span class="kwd">def</span><span class="pln"> name</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">):</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">hidden_name</span></code></li><li class="L3"><code><span class="lit">@name</span><span class="pun">.</span><span class="pln">setter</span></code></li><li class="L4"><code><span class="kwd">def</span><span class="pln"> name</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> new_name</span><span class="pun">):</span></code></li><li class="L5"><code><span class="pln">    </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">hidden_name </span><span class="pun">=</span><span class="pln"> new_name</span></code></li></ol></pre><p data-anchor-id="j7z2">Call as usual.</p><p data-anchor-id="rqku">A property can refer to a computational value.</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="3rq9" style=""><ol class="linenums"><li class="L0"><code><span class="lit">@property</span></code></li><li class="L1"><code><span class="kwd">def</span><span class="pln"> diameter</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">):</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">radius</span></code></li></ol></pre><p data-anchor-id="5sx6">Call it as <code>c.diameter</code></p><p data-anchor-id="ob6i">The advantage of using properties over direct attribute access: only fix the codes within class if definition of the attribute changed.</p><div class="md-section-divider"></div><h3 data-anchor-id="ghbp" id="python-privacy">Python privacy</h3><p data-anchor-id="0k68">A naming convention for attributes that should not be visible outside of the class definition: begin with two underscores.</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="3vy8" style=""><ol class="linenums"><li class="L0"><code><span class="kwd">def</span><span class="pln"> __init__</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">):</span></code></li><li class="L1"><code><span class="pln">    </span><span class="kwd">self</span><span class="pun">.</span><span class="pln">__hidden </span><span class="pun">=</span><span class="pln"> name</span></code></li></ol></pre><p data-anchor-id="fvka">You cannot access the hidden attribute with <code>c.__hidden</code> now. <br>
However, this privacy is done by Python with <em>mangling</em> and is not secure at all. <br>
<code>c._ClassName__hidden</code> cross over the getter to visit the private value.</p><div class="md-section-divider"></div><h3 data-anchor-id="vzib" id="method-types">Method types</h3><ul data-anchor-id="2df9">
<li><p>instance methods <br>
are normal methods begined with <code>self</code></p></li>
<li><p>class methods <br>
affect the class as a whole. Any change made to the class affects all its objects. <br>
Denote with <code>@classmethod</code> <br>
The first parameter to a class method is the class itself, denoted as <code>cls</code> as tradition. <br>
A class method accesses a class attribute.</p></li>
</ul><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="ik1c" style=""><ol class="linenums"><li class="L0"><code><span class="kwd">class</span><span class="pln"> C</span><span class="pun">():</span></code></li><li class="L1"><code><span class="pln">    cnt </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">def</span><span class="pln"> __init__</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">):</span></code></li><li class="L3"><code><span class="pln">        C</span><span class="pun">.</span><span class="pln">cnt </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">1</span><span class="pln">  </span><span class="com"># refer to a class attribute</span></code></li><li class="L4"><code><span class="pln">    </span><span class="lit">@classmethod</span></code></li><li class="L5"><code><span class="pln">    </span><span class="kwd">def</span><span class="pln"> count</span><span class="pun">(</span><span class="pln">cls</span><span class="pun">):</span><span class="pln"> </span><span class="com"># the class itself</span></code></li><li class="L6"><code><span class="pln">        </span><span class="kwd">return</span><span class="pln"> cls</span><span class="pun">.</span><span class="pln">cnt</span></code></li></ol></pre><ul data-anchor-id="jsw3">
<li>static method <br>
<code>@staticmethod</code> <br>
affect neither the class nor the instances. It is just in there for convenience. No initial <code>self</code> or <code>class</code> method.</li>
</ul><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="8uvi" style=""><ol class="linenums"><li class="L0"><code><span class="lit">@staticmethod</span></code></li><li class="L1"><code><span class="kwd">def</span><span class="pln"> info</span><span class="pun">():</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">print</span><span class="pun">(</span><span class="str">'hello'</span><span class="pun">)</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="8xzg" id="duck-typing">Duck Typing</h3><p data-anchor-id="nt7k">A loose implementation of polymorphism - apply the same operation to different objects even if they are different classes.</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="hmuc" style=""><ol class="linenums"><li class="L0"><code><span class="kwd">def</span><span class="pln"> who_says</span><span class="pun">(</span><span class="pln">obj</span><span class="pun">):</span></code></li><li class="L1"><code><span class="pln">    </span><span class="kwd">print</span><span class="pun">(</span><span class="pln">obj</span><span class="pun">.</span><span class="pln">who</span><span class="pun">(),</span><span class="pln"> </span><span class="str">'says'</span><span class="pun">,</span><span class="pln"> obj</span><span class="pun">.</span><span class="pln">says</span><span class="pun">())</span></code></li></ol></pre><p data-anchor-id="nmgr">Any object with these two methods can be called by the function. </p><div class="md-section-divider"></div><h3 data-anchor-id="pzuc" id="operator-overloading-with-special-methods">Operator overloading with Special methods</h3><ul data-anchor-id="bka6">
<li>comparison</li>
</ul><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="vgfs" style=""><ol class="linenums"><li class="L0"><code><span class="pln">__eq__</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> other</span><span class="pun">)</span><span class="pln"> </span><span class="com"># equal</span></code></li><li class="L1"><code><span class="pln">__ne__</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> other</span><span class="pun">)</span><span class="pln"> </span><span class="com"># not equal</span></code></li><li class="L2"><code><span class="pln">__lt__</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> other</span><span class="pun">)</span><span class="pln"> </span><span class="com"># less than</span></code></li><li class="L3"><code><span class="pln">__gt__</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> other</span><span class="pun">)</span><span class="pln"> </span><span class="com"># greater than</span></code></li><li class="L4"><code><span class="pln">__le__</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> other</span><span class="pun">)</span><span class="pln"> </span><span class="com"># less or equal</span></code></li><li class="L5"><code><span class="pln">__ge__</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> other</span><span class="pun">)</span><span class="pln"> </span><span class="com"># greater or equal</span></code></li></ol></pre><ul data-anchor-id="hm74">
<li>math</li>
</ul><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="y3d1" style=""><ol class="linenums"><li class="L0"><code><span class="pln">__add__</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> other</span><span class="pun">)</span></code></li><li class="L1"><code><span class="pln">__sub__</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> other</span><span class="pun">)</span></code></li><li class="L2"><code><span class="pln">__mul__</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> other</span><span class="pun">)</span></code></li><li class="L3"><code><span class="pln">__floordiv__</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> other</span><span class="pun">)</span></code></li><li class="L4"><code><span class="pln">__truediv__</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> other</span><span class="pun">)</span></code></li><li class="L5"><code><span class="pln">__mod__</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> other</span><span class="pun">)</span></code></li><li class="L6"><code><span class="pln">__pow__</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">,</span><span class="pln"> other</span><span class="pun">)</span></code></li></ol></pre><ul data-anchor-id="bsd3">
<li>magic </li>
</ul><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="o0wh" style=""><ol class="linenums"><li class="L0"><code><span class="pln">__str__</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">)</span><span class="pln"> </span><span class="com"># convert the object into a str used by print()</span></code></li><li class="L1"><code><span class="pln">__repr__</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">)</span><span class="pln"> </span><span class="com"># used by interpreter echoing</span></code></li><li class="L2"><code><span class="pln">__len__</span><span class="pun">(</span><span class="kwd">self</span><span class="pun">)</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="ayua" id="tips">Tips</h3><p data-anchor-id="0b58">Avoid overengineering data structures. <br>
Named tuples are better than objects. <br>
Immutable, time-efficient, access with dot-notation/names, used as dictionary key</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="tbns" style=""><ol class="linenums"><li class="L0"><code><span class="kwd">from</span><span class="pln"> collection </span><span class="kwd">import</span><span class="pln"> namedtuple</span></code></li><li class="L1"><code><span class="typ">Duck</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> namedtuple</span><span class="pun">(</span><span class="str">'key1'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'key2'</span><span class="pun">)</span></code></li><li class="L2"><code><span class="pln">duck </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Duck</span><span class="pun">(</span><span class="str">'value1'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'value2'</span><span class="pun">)</span></code></li><li class="L3"><code><span class="pln">duck</span><span class="pun">.</span><span class="pln">key1  </span><span class="com"># access with dot-notation</span></code></li><li class="L4"><code><span class="pln">duck</span><span class="pun">.</span><span class="pln">key2</span></code></li></ol></pre></div>
</body>
</html>